(window.webpackJsonpfortune2=window.webpackJsonpfortune2||[]).push([[0],{100:function(e,t,n){e.exports=n(209)},179:function(e,t,n){},209:function(e,t,n){"use strict";n.r(t);n(101),n(127),n(129),n(130),n(132),n(133),n(134),n(135),n(136),n(137),n(138),n(139),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169);var a=n(0),o=n.n(a),c=n(64),i=n.n(c),r=n(37),l=n.n(r),s=n(65),d=n.n(s),m=n(93),u=n(50),g=n(99),f=n.n(g),p=n(98),h=n.n(p),y=(n(178),n(94)),E=n.n(y),v=n(95),b=n.n(v),w=n(66),_=n.n(w),I=n(96),x=n.n(I),B=n(97),j=n.n(B),O=(n(179),n(49)),A=new O.Howl({src:["https://2gd4.me/salty/audio/sfx/menu_move.ogg","https://2gd4.me/salty/audio/sfx/menu_move.wav"]}),L=new O.Howl({src:["https://2gd4.me/salty/audio/sfx/question_show.ogg","https://2gd4.me/salty/audio/sfx/question_show.wav"]}),k=new O.Howl({src:["https://2gd4.me/salty/audio/sfx/option_highlight.ogg","https://2gd4.me/salty/audio/sfx/option_highlight.wav"]}),q=2,U=15,C=0,F=0;function K(){document.getElementById("spin_button").disabled=!1,document.getElementById("roulette_wheel").classList.add("highlight"),k.play(),C=0,requestAnimationFrame((function(){document.getElementById("roulette_wheel").classList.remove("highlight")}))}function M(){var e=q;((U+=C)>=360||U<0)&&(U=(360+U)%360),document.getElementById("roulette_image").style.transform="rotate("+(135-U)+"deg)",e!=Math.floor(U/60)%6&&(q=Math.floor(U/60),function(){var e=[0,1,2,3,4,5][q],t=["#ff2b48","#ffa72b","#fff421","#44f21d","#2d91fc","#c93ef7"][q];document.getElementById("wrapper").style.backgroundColor=t,document.getElementById("spin_button").style.color=t;var n=["\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u21161","\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u21162","\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u21163","\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u21164","\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u21165","\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u21166"][q];0==e||3==e||5==e?document.getElementById("category").innerText=n+"\u0445\u0443\u0439":1!=e&&2!=e&&4!=e||(document.getElementById("category").innerText=n+"\u043f\u043e\u0437\u0434\u0440\u0430\u0432\u043b\u044f\u0435\u043c"),console.log(n),console.log(e);var a=document.getElementById("pointer_content");C>0?a.classList.add("nudged_right"):a.classList.add("nudged_left"),a.classList="",A.stop(),A.play()}()),F?(C*=.98,F--):(C*=1-.02*(.75+.25*Math.random()),F=30),C>.5||C<-.5?requestAnimationFrame(M):requestAnimationFrame(K)}function T(){L.play(),document.getElementById("spin_button").disabled=!0,document.getElementById("category").classList.remove("active");var e=2*Math.random()-1;C=40*e+(e<0?-40:40),console.log("start speed: "+C),setTimeout(M,600)}var V=function(e){var t=e.id,n=(e.go,e.fetchedUser);return o.a.createElement(E.a,{id:t},o.a.createElement(b.a,null,"\u041a\u043e\u043b\u0435\u0441\u043e \u0444\u043e\u0440\u0442\u0443\u043d\u044b"),n&&o.a.createElement(_.a,{title:"User Data Fetched with VK Connect"},o.a.createElement(x.a,{before:n.photo_200?o.a.createElement(j.a,{src:n.photo_200}):null,description:n.city&&n.city.title?n.city.title:""},"".concat(n.first_name," ").concat(n.last_name))),o.a.createElement(_.a,{title:"Navigation Example"},o.a.createElement("div",{id:"wrapper"},o.a.createElement("div",{id:"roulette"},o.a.createElement("div",{id:"roulette_wheel"},o.a.createElement("div",{id:"roulette_image"}),o.a.createElement("span",{id:"pointer"},o.a.createElement("svg",{id:"pointer_content",width:"16",height:"16",version:"1.1",viewBox:"0 0 16 16"},o.a.createElement("path",{d:"m8 4c-1.5803.00017-3.0125.93093-3.6543 2.375l-4.2227 9.502 9.502-4.2227c1.4441-.64181 2.3748-2.074 2.375-3.6543.000233-2.2091-1.7909-4.0002-4-4z",fill:"#fff"}),o.a.createElement("path",{d:"m8 6a2 2 0 00-2 2 2 2 0 002 2 2 2 0 002-2 2 2 0 00-2-2z",fill:"#000"}))))),o.a.createElement("div",{id:"controls"},o.a.createElement("button",{id:"spin_button",type:"button",onClick:T},"\u043a\u0440\u0443\u0442\u0438\u0442\u044c"),o.a.createElement("div",{id:"category",className:"active"},"\u041f\u043e\u0434\u0430\u0440\u043e\u043a \u21163")))))},z=function(){var e=Object(a.useState)("home"),t=Object(u.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(null),r=Object(u.a)(i,2),s=r[0],g=r[1],p=Object(a.useState)(o.a.createElement(h.a,{size:"large"})),y=Object(u.a)(p,2);y[0],y[1];Object(a.useEffect)((function(){function e(){return(e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,g(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}l.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var o=document.createAttribute("scheme");o.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(o)}})),function(){e.apply(this,arguments)}()}),[]);return o.a.createElement(f.a,{activePanel:n},o.a.createElement(V,{id:"home",fetchedUser:s,go:function(e){c(e.currentTarget.dataset.to)}}))};l.a.send("VKWebAppInit"),i.a.render(o.a.createElement(z,null),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.643b59bd.chunk.js.map